/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * To learn more about Gradle by exploring our Samples at https://docs.gradle.org/8.2.1/samples
 */

buildscript {
  repositories {
    mavenLocal()
    mavenCentral()
  }
  dependencies {
    classpath "org.openapitools:openapi-generator-gradle-plugin:6.6.0"
  }
}

apply plugin: 'org.openapi.generator'


def dpInputSpec = "$rootDir/memas-api/dp.yml"
def cpInputSpec = "$rootDir/memas-api/cp.yml"

def dpOutputDir = "$rootDir/memas-clients"
def cpOutputDir = "$rootDir/memas-sdks"


task javaClient(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {
    generatorName.set("java")
    inputSpec.set(dpInputSpec)
    outputDir.set("$dpOutputDir/java")
    apiPackage.set("ai.memas.memas_client.api")
    invokerPackage.set("ai.memas.memas_client.invoker")
    modelPackage.set("ai.memas.memas_client.model")
}

task javaSDK(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {
    generatorName.set("java")
    inputSpec.set(cpInputSpec)
    outputDir.set("$cpOutputDir/java")
    apiPackage.set("ai.memas.memas_sdk.api")
    invokerPackage.set("ai.memas.memas_sdk.invoker")
    modelPackage.set("ai.memas.memas_sdk.model")
}


task pythonClient(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {
    generatorName.set("python")
    inputSpec.set(dpInputSpec)
    outputDir.set("$dpOutputDir/python")
    packageName.set("memas_client")
}

task pythonSDK(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {
    generatorName.set("python")
    inputSpec.set(cpInputSpec)
    outputDir.set("$cpOutputDir/python")
    packageName.set("memas_sdk")
}


task tsNodeClient(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {
    generatorName.set("typescript-node")
    inputSpec.set(dpInputSpec)
    outputDir.set("$dpOutputDir/ts-node")

    configOptions.set([
        npmName: "memas-client"
    ])
}

task tsNodeSDK(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {
    generatorName.set("typescript-node")
    inputSpec.set(cpInputSpec)
    outputDir.set("$cpOutputDir/ts-node")

    configOptions.set([
        npmName: "memas-sdk"
    ])
}


task goClient(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {
    generatorName.set("go")
    inputSpec.set(dpInputSpec)
    outputDir.set("$dpOutputDir/go")

    configOptions.set([
        packageName: "memas-client"
    ])
}

task goSDK(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {
    generatorName.set("go")
    inputSpec.set(cpInputSpec)
    outputDir.set("$cpOutputDir/go")

    configOptions.set([
        packageName: "memas-sdk"
    ])
}
